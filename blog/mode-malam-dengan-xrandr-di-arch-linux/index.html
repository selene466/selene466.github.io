<!doctype html><html lang=id><head itemscope itemtype=https://himawari466.github.io/><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="index, follow"><meta name=googlebot content="index, follow"><title itemprop=name>Membuat mode malam dengan xrandr di Arch Linux | Himawari466</title><meta property="og:locale" content="id"><meta name=language content="id"><meta property="og:title" content="Membuat mode malam dengan xrandr di Arch Linux"><meta property="twitter:title" content="Membuat mode malam dengan xrandr di Arch Linux"><meta itemprop=name content="Membuat mode malam dengan xrandr di Arch Linux | Himawari466"><meta name=application-name content="Membuat mode malam dengan xrandr di Arch Linux | Himawari466"><meta property="og:site_name" content="Himawari466"><meta name=description content="Shell script mode malam sederhana dengan xrandr di Arch Linux"><meta itemprop=description content="Shell script mode malam sederhana dengan xrandr di Arch Linux"><meta property="og:description" content="Shell script mode malam sederhana dengan xrandr di Arch Linux"><meta property="twitter:description" content="Shell script mode malam sederhana dengan xrandr di Arch Linux"><link rel=canonical href=/blog/mode-malam-dengan-xrandr-di-arch-linux/><meta name=url content="/blog/mode-malam-dengan-xrandr-di-arch-linux/"><meta property="og:url" content="/blog/mode-malam-dengan-xrandr-di-arch-linux/"><meta property="twitter:url" content="/blog/mode-malam-dengan-xrandr-di-arch-linux/"><meta property="og:locale" content="in"><meta property="og:type" content="article"><meta name=keywords content="Shell,script,mode,malam,sederhana,dengan,xrandr,di,Arch,Linux,Membuat,mode,malam,dengan,xrandr,di,Arch,Linux,Linux,Programming,shell"><meta itemprop=image content="/assets/images/blog/06-xrandr_2k.png"><meta property="og:image" content="/assets/images/blog/06-xrandr_2k.png"><meta name=twitter:image content="/assets/images/blog/06-xrandr_2k.png"><meta name=twitter:image:src content="/assets/images/blog/06-xrandr_2k.png"><meta property="og:article:published_time" content="2021-01-25T08:40:17+0700"><meta property="article:published_time" content="2021-01-25T08:40:17+0700"><meta property="og:article:author" content="Himawari466"><meta property="article:author" content="Himawari466"><meta name=author content="Himawari466"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","headline":"Membuat mode malam dengan xrandr di Arch Linux","author":{"@type":"Person","name":"Himawari466"},"datePublished":"2021-01-25","description":"Shell script mode malam sederhana dengan xrandr di Arch Linux","wordCount":576,"mainEntityOfPage":"True","dateModified":"2021-01-25","image":{"@type":"imageObject","url":"https://himawari466.github.io/assets/images/blog/06-xrandr_2k.png"},"publisher":{"@type":"Organization","name":"Himawari466","logo":{"@type":"imageObject","url":"https://himawari466.github.io/favicon.ico"}}}</script><link href="https://fonts.googleapis.com/css?family=Open+Sans" rel=stylesheet type=text/css><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel=stylesheet><link href=/assets/fonts/mononoki/mononoki.css type=text/css rel=stylesheet media=screen><link href=/assets/css/materialize.min.css type=text/css rel=stylesheet media=screen><link href=/assets/css/main.css type=text/css rel=stylesheet media=screen><link href=/assets/css/syntax.css type=text/css rel=stylesheet media=screen><link href=/favicon.ico rel=icon sizes=32x32></head><body><nav class="red darken-2"><div class="nav-wrapper container"><a href=/ class=brand-logo>Himawari466</a>
<a href=# data-target=mobile-demo class=sidenav-trigger><i class=material-icons>menu</i></a><ul class="right hide-on-med-and-down"><li><a href=/>Beranda</a></li><li><a href=/blog>Blog</a></li></ul></div></nav><ul class=sidenav id=mobile-demo><li><a href=/>Beranda</a></li><li><a href=/blog>Blog</a></li></ul><div class=container><div class=row><header><nav class=clean><div class=nav-wrapper><div class="col s12"><a href=/ class=breadcrumb>Beranda</a><a href=/blog class=breadcrumb>Blog</a><a href=/mode-malam-dengan-xrandr-di-arch-linux class=breadcrumb>Mode malam dengan xrandr di arch linux</a></div></div></nav></header><main class="col m12 l8"><article><h2 class="red-text text-darken-2">Membuat mode malam dengan xrandr di Arch Linux</h2><br><span><i class="tiny material-icons">insert_invitation</i> Tanggal: Senin, 25 Januari 2021. 08:40:17 WIB</span><br><span><i class="tiny material-icons">perm_contact_calendar</i> Penulis: Himawari466</span><br><span><i class="tiny material-icons">local_offer</i> Tags:&nbsp;<a class=red-text href=/tags/linux>Linux</a>, <a class=red-text href=/tags/programming>Programming</a>, <a class=red-text href=/tags/shell>shell</a></span><br><br><div id=TableOfContents><ol><li><a href=#masalah>Masalah</a></li><li><a href=#konsep>Konsep</a></li><li><a href=#scripting-program-mode-malam-sederhana>Scripting program mode malam sederhana</a></li><li><a href=#penutup>Penutup</a></li></ol></div><br><p>Hai!<br>Selamat pagi teman-teman semua, semoga selalu sehat selalu ya&mldr;</p><p>Gunakan daftar isi diatas & shortcut <kbd>CTRL</kbd>+<kbd>F</kbd> untuk memudahkan pencarian konten.</p><p><br></p><h3 id=masalah>Masalah</h3><p>Pada malam hari biasanya saya mematikan lampu ruangan.</p><p>Ketika saya mengoperasikan komputer pada malam hari dengan kondisi lampu dimatikan rasanya brightness layar terlalu besar, panas dimata, padahal settingan brightness paling kecil di layar laptop sudah mentok.</p><p>Nah, akhirnya saya kepikiran membuat <em>screen dimmer</em> sederhana dengan <strong>xrandr</strong>, lebih jauh saya menemukan <strong>xrandr</strong> bisa set <em>screen gamma</em>, jadi juga bisa membuat overlay <em>kemerahan</em> seperti software - software mode malam / night mode lain pada umumnya.</p><p><br></p><h3 id=konsep>Konsep</h3><p>Seperti pada post sebelumnya tentang &ldquo;<a href=/blog/bermain-dengan-xrandr-di-arch-linux/>Bermain-main dengan xrandr di Arch Linux</a>&rdquo; caranya kurang lebih sama.</p><p>Pertama saya cari device layar laptop terlebih dahulu:</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>% xrandr
Screen 0: minimum <span class=m>320</span> x 200, current <span class=m>1280</span> x 800, maximum <span class=m>8192</span> x <span class=m>8192</span>
DVI-0 disconnected primary <span class=o>(</span>normal left inverted right x axis y axis<span class=o>)</span>
<span class=hl>LVDS connected 1280x800+0+0 <span class=o>(</span>normal left inverted right x axis y axis<span class=o>)</span> 331mm x 207mm
</span><span class=hl>   1280x800      60.00*+  50.00  
</span>   1280x720      59.97  
   1152x768      59.95  
   1024x768      59.95  
   800x600       59.96  
   848x480       59.94  
   720x480       59.94  
   640x480       59.94  
DisplayPort-0 disconnected <span class=o>(</span>normal left inverted right x axis y axis<span class=o>)</span>
VGA-0 disconnected <span class=o>(</span>normal left inverted right x axis y axis<span class=o>)</span></code></pre></div><p>Terlihat layar laptop saya di perangkat <strong>LVDS</strong>.<br>Selanjutnya saya bisa memodifikasi output di perangkat <strong>LVDS</strong> dengan <strong>xrandr</strong>.</p><p><br><br>Brightness<br>Demo menurunkan brightness dengan <strong>xrandr</strong>:</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>% xrandr --output LVDS --brightness 0.5</code></pre></div><p>Demo menaikkan brightness dengan <strong>xrandr</strong>:</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>% xrandr --output LVDS --brightness 2.0</code></pre></div><p>Demo reset brightness dengan <strong>xrandr</strong>:</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>% xrandr --output LVDS --brightness 1.0</code></pre></div><p><br><br>Gamma<br>Demo dominan <strong>merah</strong> dengan <strong>xrandr</strong> (value 1):</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>% xrandr --output LVDS --gamma 2.0:0.5:0.5</code></pre></div><p>Demo dominan <strong>hijau</strong> dengan <strong>xrandr</strong> (value 2):</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>% xrandr --output LVDS --gamma 0.5:2.0:0.5</code></pre></div><p>Demo dominan <strong>biru</strong> dengan <strong>xrandr</strong> (value 3):</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>% xrandr --output LVDS --gamma 0.5:0.5:2.0</code></pre></div><p>Demo reset gamma layar dengan <strong>xrandr</strong>:</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>% xrandr --output LVDS --gamma 1.0:1.0:1.0</code></pre></div><p><br><br>Demo set gamma layar & set brightness dengan <strong>xrandr</strong>:<br><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>% xrandr --output LVDS --gamma 2.0:1.0:1.0 --brightness 0.8</code></pre></div></p><p><br></p><h3 id=scripting-program-mode-malam-sederhana>Scripting program mode malam sederhana</h3><p>Dari info konsep diatas, kita bisa membuat shell script sederhana untuk mengimplementasikan konsep tersebut.<br>Berikut shell script yang saya buat dengan nama <strong>modemalam.sh</strong>:</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell><span class=cp>#!/bin/sh
</span><span class=cp></span><span class=c1># Shell script sederhana untuk mode malam otomatis dengan xrandr</span>

<span class=c1># Mencari jam saat ini</span>
<span class=nv>jam</span><span class=o>=</span><span class=k>$(</span>date +<span class=s2>&#34;%H&#34;</span><span class=k>)</span>

<span class=c1># Ganti device LVDS sesuai device layar perangkat</span>
xrandr_set<span class=o>()</span> <span class=o>{</span>
    xrandr --output LVDS --gamma <span class=nv>$1</span> --brightness <span class=nv>$2</span>
<span class=o>}</span>

<span class=k>if</span> <span class=o>[[</span> <span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span> <span class=o>==</span> <span class=s1>&#39;stop&#39;</span> <span class=o>]]</span><span class=p>;</span><span class=k>then</span>
    <span class=nb>echo</span> <span class=s2>&#34;modemalam.sh reset&#34;</span>
    xrandr_set 1.0:1.0:1.0 1.0
    pgrep <span class=si>${</span><span class=nv>0</span><span class=p>##*/</span><span class=si>}</span> <span class=p>|</span> xargs <span class=nb>kill</span>
<span class=k>else</span>
    <span class=nb>echo</span> <span class=s2>&#34;modemalam.sh berjalan&#34;</span>
    <span class=k>while</span> <span class=nb>true</span>
    <span class=k>do</span>
        <span class=k>if</span> <span class=o>[</span> <span class=nv>$jam</span> -lt <span class=m>16</span> <span class=o>]</span><span class=p>;</span><span class=k>then</span>
            xrandr_set 1.0:1.0:1.0 1.0
        <span class=k>elif</span> <span class=o>[</span> <span class=nv>$jam</span> -lt <span class=m>18</span> <span class=o>]</span><span class=p>;</span><span class=k>then</span>
            xrandr_set 1.0:1.0:0.95 1.0
        <span class=k>elif</span> <span class=o>[</span> <span class=nv>$jam</span> -lt <span class=m>20</span> <span class=o>]</span><span class=p>;</span><span class=k>then</span>
            xrandr_set 1.0:1.0:0.90 1.0
        <span class=k>elif</span> <span class=o>[</span> <span class=nv>$jam</span> -lt <span class=m>22</span> <span class=o>]</span><span class=p>;</span><span class=k>then</span>
            xrandr_set 1.0:0.9:0.60 0.9
        <span class=k>elif</span> <span class=o>[</span> <span class=nv>$jam</span> -lt <span class=m>23</span> <span class=o>]</span><span class=p>;</span><span class=k>then</span>
            xrandr_set 1.2:0.80:0.45 0.75
        <span class=k>elif</span> <span class=o>[</span> <span class=nv>$jam</span> -lt <span class=m>1</span> <span class=o>]</span><span class=p>;</span><span class=k>then</span>
            xrandr_set 1.4:0.60:0.25 0.55
        <span class=k>elif</span> <span class=o>[</span> <span class=nv>$jam</span> -lt <span class=m>2</span> <span class=o>]</span><span class=p>;</span><span class=k>then</span>
            xrandr_set 1.2:0.80:0.55 0.75
        <span class=k>elif</span> <span class=o>[</span> <span class=nv>$jam</span> -lt <span class=m>3</span> <span class=o>]</span><span class=p>;</span><span class=k>then</span>
            xrandr_set 1.0:0.80:0.65 0.8
        <span class=k>elif</span> <span class=o>[</span> <span class=nv>$jam</span> -lt <span class=m>5</span> <span class=o>]</span><span class=p>;</span><span class=k>then</span>
            xrandr_set 1.0:0.70:0.55 0.75
        <span class=k>fi</span>
        <span class=c1># refresh setiap 10 menit, tidak membebani CPU</span>
        sleep <span class=m>600</span>
    <span class=k>done</span> <span class=p>&amp;</span>
<span class=k>fi</span></code></pre></div><p>Instalasi:</p><ol><li>Copy shell script tersebut</li><li>Buat file baru dengan nama <strong>modemalam.sh</strong></li><li>Paste hasil copy ke file baru, lalu simpan</li><li>Set file tersebut executable</li></ol><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>% chmod +x modemalam.sh</code></pre></div><p>Penggunaan:</p><ol><li>Menjalankan <strong>modemalam.sh</strong></li></ol><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>% ./modemalam.sh</code></pre></div><ol start=2><li>Menghentikan <strong>modemalam.sh</strong></li></ol><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>% ./modemalam.sh stop</code></pre></div><p>Teman-teman bebas memodifikasi shell script tersebut, bisa disesuaikan device perangkat layar & set settingan <strong>xrandr</strong> sesuka hati. üòÅüòÅüòÅ</p><p><br></p><h3 id=penutup>Penutup</h3><p>Begitulah cara membuat mode malam sederhana dengan <strong>xrandr</strong> di <strong>Arch Linux</strong>, semoga isi post ini bisa bermanfaat buat teman-teman semua.</p></article><hr><div><div class="single-next-prev left"></div><div class="single-next-prev right"><a class=blue-text href=/blog/bermain-dengan-xrandr-di-arch-linux/><i class="right material-icons">arrow_forward</i>Bermain-main dengan xrandr di...</a></div><div style=clear:both></div></div><div id=disqus_thread></div><script>(function(){if(window.location.hostname=="localhost")
return;var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;var disqus_shortname='himawari466-blog';dsq.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></main><aside class="col m12 l4"><div class=card><div class=card-content><h5><i class="tiny material-icons">alarm</i> Post Terbaru:</h5><ul class=a-con><li><i class="tiny material-icons">label</i> <a href=/blog/mode-malam-dengan-xrandr-di-arch-linux/>Membuat mode malam dengan xrandr di Arch Linux</a></li><li><i class="tiny material-icons">label</i> <a href=/blog/bermain-dengan-xrandr-di-arch-linux/>Bermain-main dengan xrandr di Arch Linux</a></li><li><i class="tiny material-icons">label</i> <a href=/blog/konfigurasi-termite-di-arch-linux/>Konfigurasi Termite di Arch Linux</a></li><li><i class="tiny material-icons">label</i> <a href=/blog/menginstal-font-ttf-di-linux/>Menginstal font TTF di Linux</a></li><li><i class="tiny material-icons">label</i> <a href=/blog/perintah-dasar-linux/>Belajar perintah dasar Linux</a></li></ul><hr><h5><i class="tiny material-icons">local_offer</i> Tags:</h5><div><a class="btn btn-tag red darken-4 waves-effect waves-light" href=/tags/linux>Linux [6]</a>
<a class="btn btn-tag red darken-4 waves-effect waves-light" href=/tags/shell>Shell [2]</a>
<a class="btn btn-tag red darken-4 waves-effect waves-light" href=/tags/hugo>Hugo [1]</a>
<a class="btn btn-tag red darken-4 waves-effect waves-light" href=/tags/programming>Programming [1]</a>
<a class="btn btn-tag red darken-4 waves-effect waves-light" href=/tags/zsh>Zsh [1]</a></div></div></div></aside></div><div class=center><i class="tiny material-icons">arrow_drop_up</i>
<a href=#><small>ke atas</small></a>
<i class="tiny material-icons">arrow_drop_up</i></div></div><footer class="page-footer red lighten-5 black-text"><div class=container><div class=row><div class="col m6 l6 s12"><p><b>Terakhir update:</b><br>Senin, 1 Februari 2021. 19:37:24 WIB.</p><hr><p>Seluruh konten tulisan yang saya tulis disini berlisensikan<br><a class=indigo-text target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.id><u>Atribusi-NonKomersial-BerbagiSerupa 4.0 Internasional<br>(CC BY-NC-SA 4.0)</u></a>. <a target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.id><img src=/assets/images/cc_by-nc-sa.svg width=100 alt="CC BY-NC-SA 4.0"></a><br><br>Konten lain mungkin tunduk pada lisensi lain.</p></div><div class="col m6 l4 offset-l2 s12"><p><small>Situs ini dibuat dengan <b>Hugo v0.79.1-EDB9248D</b>.<br>Dihosting dengan <b>GitHub Pages</b>.<br>Ditulis menggunakan text editor <b>neovim</b>, diatas sistem operasi <b>Arch Linux</b>.<br></small></p><table><tr style=border:none><td class=center-align><a href=//gohugo.io/ target=_blank><img src=/assets/images/Hugo-Logo.svg width=100 alt=Hugo></a></td><td class=center-align><a href=//pages.github.com/ target=_blank><img src=/assets/images/GitHub-Logo.png width=100 alt="GitHub Pages"></a></td></tr><tr style=border:none><td class=center-align><a href=//neovim.io/ target=_blank><img src=/assets/images/Neovim-Logo.svg width=100 alt=Neovim></a></td><td class=center-align><a href=//archlinux.org/ target=_blank><img src=/assets/images/archlinux-Logo.svg width=100 alt=archlinux></a></td></tr></table></div></div></div><div class="footer-copyright red darken-2"><div class=container>&copy; 2021
<a class="grey-text text-lighten-4 right" href=#>himawari466.github.io</a></div></div></footer><script src=/assets/js/materialize.min.js></script><script>M.AutoInit();</script></body></html>